{"level":"error","message":"Error generating activity recommendations: Unexpected token '`', \"```json\n{\n\"... is not valid JSON","name":"SyntaxError","stack":"SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at D:\\Projects\\therapistbackend\\src\\inngest\\aiFunctions.ts:269:23\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async V1InngestExecution.tryExecuteStep (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:276:14)\n    at async steps-found (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:200:28)\n    at async V1InngestExecution._start (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:147:24)\n    at async InngestCommHandler.handleAction (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\InngestCommHandler.ts:1126:28)\n    at async ServerTiming.wrap (D:\\Projects\\therapistbackend\\node_modules\\src\\helpers\\ServerTiming.ts:82:15)\n    at async ServerTiming.wrap (D:\\Projects\\therapistbackend\\node_modules\\src\\helpers\\ServerTiming.ts:82:15)","stepId":"generate-recommendations","timestamp":"2025-07-13T13:48:38.749Z"}
{"level":"error","message":"Error generating activity recommendations: Unexpected token '`', \"```json\n{\n\"... is not valid JSON","name":"SyntaxError","stack":"SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at D:\\Projects\\therapistbackend\\src\\inngest\\aiFunctions.ts:269:23\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async V1InngestExecution.tryExecuteStep (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:276:14)\n    at async steps-found (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:200:28)\n    at async V1InngestExecution._start (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:147:24)\n    at async InngestCommHandler.handleAction (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\InngestCommHandler.ts:1126:28)\n    at async ServerTiming.wrap (D:\\Projects\\therapistbackend\\node_modules\\src\\helpers\\ServerTiming.ts:82:15)\n    at async ServerTiming.wrap (D:\\Projects\\therapistbackend\\node_modules\\src\\helpers\\ServerTiming.ts:82:15)","stepId":"generate-recommendations","timestamp":"2025-07-13T14:58:49.269Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"consumer\":\"projects/446709098246\",\"quota_unit\":\"1/min/{project}/{region}\",\"service\":\"generativelanguage.googleapis.com\",\"quota_location\":\"us-south1\",\"quota_limit_value\":\"0\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"consumer\":\"projects/446709098246\",\"quota_unit\":\"1/min/{project}/{region}\",\"service\":\"generativelanguage.googleapis.com\",\"quota_location\":\"us-south1\",\"quota_limit_value\":\"0\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-09-05T20:41:42.000Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"consumer\":\"projects/446709098246\",\"service\":\"generativelanguage.googleapis.com\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"us-south1\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_limit_value\":\"0\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"consumer\":\"projects/446709098246\",\"service\":\"generativelanguage.googleapis.com\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"us-south1\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_limit_value\":\"0\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-09-05T20:41:56.421Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"consumer\":\"projects/446709098246\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_limit_value\":\"0\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_location\":\"us-south1\",\"service\":\"generativelanguage.googleapis.com\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"consumer\":\"projects/446709098246\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_limit_value\":\"0\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_location\":\"us-south1\",\"service\":\"generativelanguage.googleapis.com\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-09-06T13:54:28.233Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_unit\":\"1/min/{project}/{region}\",\"service\":\"generativelanguage.googleapis.com\",\"quota_location\":\"us-south1\",\"quota_limit_value\":\"0\",\"consumer\":\"projects/446709098246\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_unit\":\"1/min/{project}/{region}\",\"service\":\"generativelanguage.googleapis.com\",\"quota_location\":\"us-south1\",\"quota_limit_value\":\"0\",\"consumer\":\"projects/446709098246\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-09-06T15:08:55.140Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"asia-east1\",\"quota_limit_value\":\"0\",\"consumer\":\"projects/446709098246\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"asia-east1\",\"quota_limit_value\":\"0\",\"consumer\":\"projects/446709098246\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T21:58:17.990Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"asia-east1\",\"consumer\":\"projects/446709098246\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_limit_value\":\"0\",\"service\":\"generativelanguage.googleapis.com\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"asia-east1\",\"consumer\":\"projects/446709098246\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_limit_value\":\"0\",\"service\":\"generativelanguage.googleapis.com\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T22:05:10.437Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.","stack":"Error: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T22:24:42.943Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.","stack":"Error: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T22:25:00.267Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.","stack":"Error: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T22:25:36.886Z"}
