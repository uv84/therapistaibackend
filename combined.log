{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T12:39:03.572Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T12:39:03.587Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T12:39:03.588Z"}
{"level":"info","message":"Mood entry created for user 6873abb13a6d75bc171e49de","timestamp":"2025-07-13T12:52:04.422Z"}
{"level":"info","message":"Mood update event sent successfully","timestamp":"2025-07-13T12:52:06.064Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T13:18:21.650Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T13:18:21.675Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T13:18:21.677Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T13:25:57.299Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T13:25:57.314Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T13:25:57.328Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:26:58.288Z"}
{"level":"info","message":"Received analysis from Gemini:","text":"```json\n{\n  \"emotionalState\": \"unknown\",\n  \"themes\": [],\n  \"riskLevel\": 0,\n  \"recommendedApproach\": \"Acknowledge the undefined message and request clarification from the user. Gather more context about the user's intention and what they were trying to communicate.\",\n  \"progressIndicators\": []\n}\n```","timestamp":"2025-07-13T13:26:59.540Z"}
{"emotionalState":"unknown","level":"info","message":"Successfully parsed analysis:","progressIndicators":[],"recommendedApproach":"Acknowledge the undefined message and request clarification from the user. Gather more context about the user's intention and what they were trying to communicate.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T13:26:59.540Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:26:59.634Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:26:59.745Z"}
{"level":"info","message":"Generated response:","responseText":"I see that your message is undefined. Could you please elaborate or provide more information? I want to make sure I understand what you're trying to communicate so I can best assist you. Don't worry if it's not perfectly formed, just tell me what's on your mind.","timestamp":"2025-07-13T13:27:01.125Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:27:01.259Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:29:18.529Z"}
{"level":"info","message":"Received analysis from Gemini:","text":"```json\n{\n  \"emotionalState\": \"neutral\",\n  \"themes\": [],\n  \"riskLevel\": 0,\n  \"recommendedApproach\": \"Awaiting user input. The message is undefined, indicating a need for prompting or clarifying the user's current state or concerns before providing any specific guidance. Prioritize establishing a connection and gathering information.\",\n  \"progressIndicators\": []\n}\n```","timestamp":"2025-07-13T13:29:20.351Z"}
{"emotionalState":"neutral","level":"info","message":"Successfully parsed analysis:","progressIndicators":[],"recommendedApproach":"Awaiting user input. The message is undefined, indicating a need for prompting or clarifying the user's current state or concerns before providing any specific guidance. Prioritize establishing a connection and gathering information.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T13:29:20.353Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:29:20.459Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:29:20.608Z"}
{"level":"info","message":"Generated response:","responseText":"Okay, I'm here. It looks like the message might be missing. Can you tell me what's on your mind or what you'd like to talk about today? Perhaps you were trying to share something specific, or maybe you're just unsure where to begin. Either way, I'm ready to listen whenever you're ready to share. Just take your time.","timestamp":"2025-07-13T13:29:21.921Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:29:22.109Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T13:32:05.562Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T13:32:05.570Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T13:32:05.571Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T13:36:46.453Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T13:36:46.462Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T13:36:46.463Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:39:09.063Z"}
{"level":"info","message":"Received analysis from Gemini:","text":"```json\n{\n  \"emotionalState\": \"undefined\",\n  \"themes\": [],\n  \"riskLevel\": 0,\n  \"recommendedApproach\": \"Awaiting user input or clarification. Since the message is undefined, engage the user with open-ended questions to understand their current state and needs. For example, 'Could you please share what's on your mind?' or 'How are you feeling today?'\",\n  \"progressIndicators\": []\n}\n```","timestamp":"2025-07-13T13:39:10.336Z"}
{"emotionalState":"undefined","level":"info","message":"Successfully parsed analysis:","progressIndicators":[],"recommendedApproach":"Awaiting user input or clarification. Since the message is undefined, engage the user with open-ended questions to understand their current state and needs. For example, 'Could you please share what's on your mind?' or 'How are you feeling today?'","riskLevel":0,"themes":[],"timestamp":"2025-07-13T13:39:10.337Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:39:10.396Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:39:10.558Z"}
{"level":"info","message":"Generated response:","responseText":"Since I don't have a specific message from you yet, I'm here and ready to listen. Could you tell me what's on your mind today? Or perhaps, how are you feeling? Knowing what you'd like to discuss will help me understand how I can best support you.","timestamp":"2025-07-13T13:39:11.527Z"}
{"level":"info","message":"Processing chat message:","timestamp":"2025-07-13T13:39:11.601Z"}
{"level":"info","message":"Mood entry created for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-07-13T13:42:56.844Z"}
{"level":"info","message":"Mood update event sent successfully","timestamp":"2025-07-13T13:42:56.861Z"}
{"level":"info","message":"Activity logged for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-07-13T13:43:15.157Z"}
{"level":"info","message":"Activity completion event sent successfully","timestamp":"2025-07-13T13:43:15.168Z"}
{"level":"info","message":"Activity logged for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-07-13T13:43:52.897Z"}
{"level":"info","message":"Activity completion event sent successfully","timestamp":"2025-07-13T13:43:52.912Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T13:47:49.752Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T13:47:49.759Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T13:47:49.759Z"}
{"level":"error","message":"Error generating activity recommendations: Unexpected token '`', \"```json\n{\n\"... is not valid JSON","name":"SyntaxError","stack":"SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at D:\\Projects\\therapistbackend\\src\\inngest\\aiFunctions.ts:269:23\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async V1InngestExecution.tryExecuteStep (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:276:14)\n    at async steps-found (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:200:28)\n    at async V1InngestExecution._start (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:147:24)\n    at async InngestCommHandler.handleAction (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\InngestCommHandler.ts:1126:28)\n    at async ServerTiming.wrap (D:\\Projects\\therapistbackend\\node_modules\\src\\helpers\\ServerTiming.ts:82:15)\n    at async ServerTiming.wrap (D:\\Projects\\therapistbackend\\node_modules\\src\\helpers\\ServerTiming.ts:82:15)","stepId":"generate-recommendations","timestamp":"2025-07-13T13:48:38.749Z"}
{"level":"info","message":"Mood entry created for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-07-13T14:53:30.333Z"}
{"level":"info","message":"Mood update event sent successfully","timestamp":"2025-07-13T14:53:30.410Z"}
{"level":"info","message":"Activity logged for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-07-13T14:53:48.346Z"}
{"level":"info","message":"Activity completion event sent successfully","timestamp":"2025-07-13T14:53:48.352Z"}
{"level":"info","message":"Processing message: hello","sessionId":"c5b23f9d-2c28-4aeb-80b3-85c6ba65ae86","timestamp":"2025-07-13T14:56:09.109Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T14:56:09.120Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-07-13T14:56:09.358Z"}
{"level":"info","message":"Received analysis from Gemini:","text":"```json\n{\n  \"emotionalState\": \"Neutral\",\n  \"themes\": [],\n  \"riskLevel\": 0,\n  \"recommendedApproach\": \"Open-ended questions to encourage further communication and establish rapport.\",\n  \"progressIndicators\": [\"Client responds with more detailed information.\"]\n}\n```","timestamp":"2025-07-13T14:56:10.417Z"}
{"emotionalState":"Neutral","level":"info","message":"Successfully parsed analysis:","progressIndicators":["Client responds with more detailed information."],"recommendedApproach":"Open-ended questions to encourage further communication and establish rapport.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T14:56:10.418Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-07-13T14:56:10.547Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-07-13T14:56:10.704Z"}
{"emotionalState":"Neutral","level":"info","message":"Message analysis:","progressIndicators":["User's willingness to elaborate","Expression of specific concerns or goals"],"recommendedApproach":"Establish rapport and gather more information. Begin with open-ended questions to understand the user's needs and concerns.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T14:56:11.538Z"}
{"level":"info","message":"Generated response:","responseText":"Hello there. It's good to connect with you. How are you doing today? Is there anything you'd like to talk about or focus on in particular?","timestamp":"2025-07-13T14:56:11.736Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-07-13T14:56:11.897Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T14:56:12.615Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"c5b23f9d-2c28-4aeb-80b3-85c6ba65ae86","timestamp":"2025-07-13T14:56:12.653Z"}
{"level":"info","message":"Processing message: help me reduce anxiey","sessionId":"c5b23f9d-2c28-4aeb-80b3-85c6ba65ae86","timestamp":"2025-07-13T14:56:43.637Z"}
{"event":{"data":{"goals":[],"history":[{"_id":"6873c90c1a1cd74d6c039904","content":"hello","role":"user","timestamp":"2025-07-13T14:56:12.616Z"},{"_id":"6873c90c1a1cd74d6c039905","content":"Hello there. It's good to connect with you. How are you doing today? Is there anything specific you'd like to talk about or explore? I'm here to listen and support you.","metadata":{"analysis":{"emotionalState":"Neutral","progressIndicators":["User's willingness to elaborate","Expression of specific concerns or goals"],"recommendedApproach":"Establish rapport and gather more information. Begin with open-ended questions to understand the user's needs and concerns.","riskLevel":0,"themes":[]},"progress":{"emotionalState":"Neutral","riskLevel":0}},"role":"assistant","timestamp":"2025-07-13T14:56:12.630Z"}],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"help me reduce anxiey","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T14:56:43.655Z"}
{"historyLength":2,"level":"info","message":"Processing chat message: help me reduce anxiey","timestamp":"2025-07-13T14:56:44.012Z"}
{"emotionalState":"Anxious","level":"info","message":"Message analysis:","progressIndicators":["Reported anxiety level","Frequency of anxiety episodes","Utilization of coping mechanisms","Sense of control over anxiety"],"recommendedApproach":"Begin with relaxation techniques such as deep breathing or guided meditation. Explore potential triggers and coping mechanisms. Consider cognitive reframing techniques if appropriate.","riskLevel":0,"themes":["Anxiety Reduction"],"timestamp":"2025-07-13T14:56:44.970Z"}
{"level":"info","message":"Received analysis from Gemini:","text":"```json\n{\n  \"emotionalState\": \"anxious\",\n  \"themes\": [\"anxiety reduction\"],\n  \"riskLevel\": 1,\n  \"recommendedApproach\": \"Explore cognitive behavioral techniques such as thought challenging and relaxation exercises like deep breathing or progressive muscle relaxation. Consider mindfulness practices and psychoeducation about anxiety. Inquire about specific triggers and coping mechanisms used previously.\",\n  \"progressIndicators\": [\"Reduced self-reported anxiety levels\", \"Increased use of coping mechanisms\", \"Improved ability to identify and manage anxiety triggers\", \"Enhanced emotional regulation skills\"]\n}\n```","timestamp":"2025-07-13T14:56:45.559Z"}
{"emotionalState":"anxious","level":"info","message":"Successfully parsed analysis:","progressIndicators":["Reduced self-reported anxiety levels","Increased use of coping mechanisms","Improved ability to identify and manage anxiety triggers","Enhanced emotional regulation skills"],"recommendedApproach":"Explore cognitive behavioral techniques such as thought challenging and relaxation exercises like deep breathing or progressive muscle relaxation. Consider mindfulness practices and psychoeducation about anxiety. Inquire about specific triggers and coping mechanisms used previously.","riskLevel":1,"themes":["anxiety reduction"],"timestamp":"2025-07-13T14:56:45.560Z"}
{"historyLength":2,"level":"info","message":"Processing chat message: help me reduce anxiey","timestamp":"2025-07-13T14:56:45.644Z"}
{"historyLength":2,"level":"info","message":"Processing chat message: help me reduce anxiey","timestamp":"2025-07-13T14:56:45.833Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T14:56:47.987Z"}
{"level":"info","message":"Generated response:","responseText":"It sounds like you're going through a tough time with anxiety, and I want you to know that you're not alone. Many people experience anxiety, and there are definitely ways to manage it.\n\nSince you're looking to reduce your anxiety, perhaps we could explore some techniques that might be helpful. A lot of people find Cognitive Behavioral Therapy (CBT) techniques useful. CBT focuses on understanding the connection between your thoughts, feelings, and behaviors. We could explore challenging some of the thoughts that contribute to your anxiety.\n\nFor example, are there any specific situations or thoughts that tend to trigger your anxiety? Sometimes just identifying those triggers can be a helpful first step.\n\nWe could also try some relaxation exercises. Deep breathing can be a simple yet effective way to calm down in the moment. Progressive muscle relaxation is another technique that involves tensing and relaxing different muscle groups to reduce overall tension.\n\nHave you tried any coping mechanisms in the past that have been helpful? Knowing what has worked (or hasn't worked) before can help us tailor our approach.\n\nFinally, remember that managing anxiety is a journey, not a destination. Be patient with yourself, and celebrate even small victories. We can work through this together.","timestamp":"2025-07-13T14:56:48.010Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"c5b23f9d-2c28-4aeb-80b3-85c6ba65ae86","timestamp":"2025-07-13T14:56:48.036Z"}
{"historyLength":2,"level":"info","message":"Processing chat message: help me reduce anxiey","timestamp":"2025-07-13T14:56:48.054Z"}
{"level":"error","message":"Error generating activity recommendations: Unexpected token '`', \"```json\n{\n\"... is not valid JSON","name":"SyntaxError","stack":"SyntaxError: Unexpected token '`', \"```json\n{\n\"... is not valid JSON\n    at JSON.parse (<anonymous>)\n    at D:\\Projects\\therapistbackend\\src\\inngest\\aiFunctions.ts:269:23\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async V1InngestExecution.tryExecuteStep (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:276:14)\n    at async steps-found (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:200:28)\n    at async V1InngestExecution._start (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\execution\\v1.ts:147:24)\n    at async InngestCommHandler.handleAction (D:\\Projects\\therapistbackend\\node_modules\\src\\components\\InngestCommHandler.ts:1126:28)\n    at async ServerTiming.wrap (D:\\Projects\\therapistbackend\\node_modules\\src\\helpers\\ServerTiming.ts:82:15)\n    at async ServerTiming.wrap (D:\\Projects\\therapistbackend\\node_modules\\src\\helpers\\ServerTiming.ts:82:15)","stepId":"generate-recommendations","timestamp":"2025-07-13T14:58:49.269Z"}
{"level":"info","message":"Processing message: heello","sessionId":"42e11c59-013e-4bb8-8202-0d7ac663ad05","timestamp":"2025-07-13T15:23:24.340Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"heello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T15:23:24.363Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: heello","timestamp":"2025-07-13T15:23:24.671Z"}
{"emotionalState":"Unclear, likely confused or attempting to initiate conversation","level":"info","message":"Message analysis:","progressIndicators":[],"recommendedApproach":"Acknowledge the message with a friendly greeting and clarification request. Example: \"Hello! Did you mean to say something else?\"","riskLevel":0,"themes":[],"timestamp":"2025-07-13T15:23:25.608Z"}
{"level":"info","message":"Received analysis from Gemini:","text":"```json\n{\n  \"emotionalState\": \"Unclear\",\n  \"themes\": [],\n  \"riskLevel\": 0,\n  \"recommendedApproach\": \"Clarify intent and gather more information. The message 'heello' is ambiguous and could be a typo or a greeting. Ask the user to elaborate or rephrase their message.\",\n  \"progressIndicators\": []\n}\n```","timestamp":"2025-07-13T15:23:25.773Z"}
{"emotionalState":"Unclear","level":"info","message":"Successfully parsed analysis:","progressIndicators":[],"recommendedApproach":"Clarify intent and gather more information. The message 'heello' is ambiguous and could be a typo or a greeting. Ask the user to elaborate or rephrase their message.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T15:23:25.773Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: heello","timestamp":"2025-07-13T15:23:25.844Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: heello","timestamp":"2025-07-13T15:23:25.991Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T15:23:26.560Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"42e11c59-013e-4bb8-8202-0d7ac663ad05","timestamp":"2025-07-13T15:23:26.573Z"}
{"level":"info","message":"Generated response:","responseText":"Hello there! I see your message. It looks like there might be a typo. Could you please clarify what you wanted to say? I'm here to listen and support you in any way I can.","timestamp":"2025-07-13T15:23:26.932Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: heello","timestamp":"2025-07-13T15:23:27.049Z"}
{"level":"info","message":"Processing message: helo","sessionId":"891a4553-b218-4f00-869e-b6938cdf5bd9","timestamp":"2025-07-13T15:26:00.180Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"helo","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T15:26:00.198Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: helo","timestamp":"2025-07-13T15:26:00.494Z"}
{"emotionalState":"Neutral","level":"info","message":"Message analysis:","progressIndicators":[],"recommendedApproach":"Acknowledge the message with a greeting. Since the message is very short and lacks context, probe for more information about the user's needs or feelings. Keep the tone neutral and supportive.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T15:26:01.478Z"}
{"level":"info","message":"Received analysis from Gemini:","text":"```json\n{\n  \"emotionalState\": \"Unclear\",\n  \"themes\": [],\n  \"riskLevel\": 0,\n  \"recommendedApproach\": \"Acknowledge the message and encourage elaboration. For example, \\\"Hello there! Is there anything you'd like to talk about?\\\"\",\n  \"progressIndicators\": []\n}\n```","timestamp":"2025-07-13T15:26:01.706Z"}
{"emotionalState":"Unclear","level":"info","message":"Successfully parsed analysis:","progressIndicators":[],"recommendedApproach":"Acknowledge the message and encourage elaboration. For example, \"Hello there! Is there anything you'd like to talk about?\"","riskLevel":0,"themes":[],"timestamp":"2025-07-13T15:26:01.706Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: helo","timestamp":"2025-07-13T15:26:01.856Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: helo","timestamp":"2025-07-13T15:26:02.006Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T15:26:02.269Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"891a4553-b218-4f00-869e-b6938cdf5bd9","timestamp":"2025-07-13T15:26:02.319Z"}
{"level":"info","message":"Generated response:","responseText":"Hello there! Is there anything you'd like to talk about? I'm here to listen and support you.","timestamp":"2025-07-13T15:26:02.758Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: helo","timestamp":"2025-07-13T15:26:02.922Z"}
{"level":"info","message":"Processing message: how are you","sessionId":"891a4553-b218-4f00-869e-b6938cdf5bd9","timestamp":"2025-07-13T15:26:15.172Z"}
{"event":{"data":{"goals":[],"history":[{"_id":"6873d00a1a1cd74d6c0399d5","content":"helo","role":"user","timestamp":"2025-07-13T15:26:02.270Z"},{"_id":"6873d00a1a1cd74d6c0399d6","content":"Hello! I'm here to listen. Is there something you'd like to talk about today?","metadata":{"analysis":{"emotionalState":"Neutral","progressIndicators":[],"recommendedApproach":"Acknowledge the message with a greeting. Since the message is very short and lacks context, probe for more information about the user's needs or feelings. Keep the tone neutral and supportive.","riskLevel":0,"themes":[]},"progress":{"emotionalState":"Neutral","riskLevel":0}},"role":"assistant","timestamp":"2025-07-13T15:26:02.272Z"}],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"how are you","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T15:26:15.179Z"}
{"historyLength":2,"level":"info","message":"Processing chat message: how are you","timestamp":"2025-07-13T15:26:15.503Z"}
{"emotionalState":"Neutral","level":"info","message":"Message analysis:","progressIndicators":[],"recommendedApproach":"Acknowledge the user's greeting and respond with a neutral and professional response. This encourages the user to elaborate on their needs or concerns.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T15:26:16.423Z"}
{"level":"info","message":"Received analysis from Gemini:","text":"```json\n{\n  \"emotionalState\": \"Neutral\",\n  \"themes\": [],\n  \"riskLevel\": 0,\n  \"recommendedApproach\": \"Acknowledge the greeting and respond with a similar inquiry. Gently transition into the therapy session's objectives.\",\n  \"progressIndicators\": []\n}\n```","timestamp":"2025-07-13T15:26:16.531Z"}
{"emotionalState":"Neutral","level":"info","message":"Successfully parsed analysis:","progressIndicators":[],"recommendedApproach":"Acknowledge the greeting and respond with a similar inquiry. Gently transition into the therapy session's objectives.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T15:26:16.532Z"}
{"historyLength":2,"level":"info","message":"Processing chat message: how are you","timestamp":"2025-07-13T15:26:16.551Z"}
{"historyLength":2,"level":"info","message":"Processing chat message: how are you","timestamp":"2025-07-13T15:26:16.705Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T15:26:17.424Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"891a4553-b218-4f00-869e-b6938cdf5bd9","timestamp":"2025-07-13T15:26:17.435Z"}
{"level":"info","message":"Generated response:","responseText":"Hi there! Thanks for asking. I'm functioning as expected and ready to assist you today. How are you feeling as we begin our session today? Is there anything specific you'd like to focus on or discuss?","timestamp":"2025-07-13T15:26:17.690Z"}
{"historyLength":2,"level":"info","message":"Processing chat message: how are you","timestamp":"2025-07-13T15:26:17.742Z"}
{"level":"info","message":"Processing message: hello","sessionId":"989dce11-3229-4af8-9ad5-af2986f62321","timestamp":"2025-07-13T15:26:30.566Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T15:26:30.576Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-07-13T15:26:30.807Z"}
{"emotionalState":"Neutral","level":"info","message":"Message analysis:","progressIndicators":["User engagement","Increased message length"],"recommendedApproach":"Establish rapport. A simple greeting indicates a starting point. Respond in a friendly and open manner to encourage further communication.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T15:26:31.727Z"}
{"level":"info","message":"Received analysis from Gemini:","text":"```json\n{\n  \"emotionalState\": \"Neutral\",\n  \"themes\": [],\n  \"riskLevel\": 0,\n  \"recommendedApproach\": \"Acknowledge the greeting and initiate conversation. Ask open-ended questions to understand the user's needs and goals.\",\n  \"progressIndicators\": [\"User engagement in conversation\", \"Identification of user's needs and goals\"]\n}\n```","timestamp":"2025-07-13T15:26:32.006Z"}
{"emotionalState":"Neutral","level":"info","message":"Successfully parsed analysis:","progressIndicators":["User engagement in conversation","Identification of user's needs and goals"],"recommendedApproach":"Acknowledge the greeting and initiate conversation. Ask open-ended questions to understand the user's needs and goals.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T15:26:32.007Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-07-13T15:26:32.142Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-07-13T15:26:32.293Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T15:26:32.746Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"989dce11-3229-4af8-9ad5-af2986f62321","timestamp":"2025-07-13T15:26:32.770Z"}
{"level":"info","message":"Generated response:","responseText":"Hello! It's good to connect with you. How are you doing today? What brings you here, or what would you like to talk about? I'm here to listen and support you in any way I can.","timestamp":"2025-07-13T15:26:33.266Z"}
{"historyLength":0,"level":"info","message":"Processing chat message: hello","timestamp":"2025-07-13T15:26:33.354Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T16:07:05.117Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T16:07:05.129Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T16:07:05.131Z"}
{"level":"info","message":"Processing message: hello","sessionId":"0fd46931-2f2e-4ca6-b8fb-6aad26af47ef","timestamp":"2025-07-13T16:07:39.700Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hello","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T16:07:39.709Z"}
{"emotionalState":"Neutral","level":"info","message":"Message analysis:","progressIndicators":["User engagement"],"recommendedApproach":"Establish rapport and gather more information. A simple greeting requires a response to encourage further communication and understanding of the user's needs and goals. Use open-ended questions.","riskLevel":0,"themes":[],"timestamp":"2025-07-13T16:07:41.968Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T16:07:43.090Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"0fd46931-2f2e-4ca6-b8fb-6aad26af47ef","timestamp":"2025-07-13T16:07:43.125Z"}
{"level":"info","message":"Processing message: tell me something about yourself","sessionId":"129277e0-4262-4a5f-84e1-896f42e488df","timestamp":"2025-07-13T16:08:03.092Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"tell me something about yourself","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T16:08:03.101Z"}
{"emotionalState":"Neutral","level":"info","message":"Message analysis:","progressIndicators":["Client engagement","Increased trust","Openness to sharing"],"recommendedApproach":"Provide a brief, professional, and appropriate personal anecdote or statement. This helps build rapport and trust. Ensure the information shared is relevant to the therapeutic context and does not shift the focus away from the client.","riskLevel":0,"themes":["Establishing Rapport","Information Gathering"],"timestamp":"2025-07-13T16:08:05.429Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T16:08:07.199Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"129277e0-4262-4a5f-84e1-896f42e488df","timestamp":"2025-07-13T16:08:07.240Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T16:09:50.802Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T16:09:50.808Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T16:09:50.808Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T16:11:40.835Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T16:11:40.842Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T16:11:40.843Z"}
{"level":"info","message":"Processing message: mkddkd","sessionId":"4f4b9c6b-05d3-4045-8001-4499e98e37d4","timestamp":"2025-07-13T16:11:48.217Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"mkddkd","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T16:11:48.230Z"}
{"emotionalState":"Unclear","level":"info","message":"Message analysis:","progressIndicators":["Increased clarity in communication","Identification of emotional state","Establishment of rapport"],"recommendedApproach":"Engage in open-ended questioning to elicit more information and determine the user's intent and emotional state. Assess for potential code words or hidden meanings. If the message is nonsensical, gently redirect the conversation or offer alternative communication methods.","riskLevel":1,"themes":[],"timestamp":"2025-07-13T16:11:50.488Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T16:11:52.254Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"4f4b9c6b-05d3-4045-8001-4499e98e37d4","timestamp":"2025-07-13T16:11:52.291Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T16:15:42.212Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T16:15:42.219Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T16:15:42.219Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T16:16:28.032Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T16:16:28.037Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T16:16:28.037Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-07-13T16:16:45.046Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-07-13T16:16:45.052Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-07-13T16:16:45.052Z"}
{"level":"info","message":"Processing message: hjjhv","sessionId":"4f4b9c6b-05d3-4045-8001-4499e98e37d4","timestamp":"2025-07-13T16:34:08.652Z"}
{"event":{"data":{"goals":[],"history":[{"_id":"6873dac8bd3abe1747367cdb","content":"mkddkd","role":"user","timestamp":"2025-07-13T16:11:52.255Z"},{"_id":"6873dac8bd3abe1747367cdc","content":"I'm not quite sure I understand what you mean by \"mkddkd.\" Could you please elaborate or rephrase your message? Sometimes, when we're feeling overwhelmed or unsure how to express ourselves, it can come out in ways that are hard to decipher.\n\nIs there something specific you'd like to talk about? Perhaps you're feeling a particular emotion, or something happened that you'd like to share.\n\nRemember, it's okay to take your time and express yourself in a way that feels comfortable for you. I'm here to listen without judgment and help you explore what's on your mind.","metadata":{"analysis":{"emotionalState":"Unclear","progressIndicators":["Increased clarity in communication","Identification of emotional state","Establishment of rapport"],"recommendedApproach":"Engage in open-ended questioning to elicit more information and determine the user's intent and emotional state. Assess for potential code words or hidden meanings. If the message is nonsensical, gently redirect the conversation or offer alternative communication methods.","riskLevel":1,"themes":[]},"progress":{"emotionalState":"Unclear","riskLevel":1}},"role":"assistant","timestamp":"2025-07-13T16:11:52.265Z"}],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hjjhv","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-07-13T16:34:08.664Z"}
{"emotionalState":"Unclear","level":"info","message":"Message analysis:","progressIndicators":[],"recommendedApproach":"Acknowledge the message and ask for clarification. For example: \"I received your message. Can you please elaborate or provide more information?\"","riskLevel":0,"themes":[],"timestamp":"2025-07-13T16:34:11.069Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-07-13T16:34:12.296Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"4f4b9c6b-05d3-4045-8001-4499e98e37d4","timestamp":"2025-07-13T16:34:12.361Z"}
{"level":"info","message":"Mood entry created for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-07-13T16:41:01.725Z"}
{"level":"info","message":"Mood update event sent successfully","timestamp":"2025-07-13T16:41:02.600Z"}
{"level":"info","message":"Activity logged for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-07-13T16:41:31.097Z"}
{"level":"info","message":"Activity completion event sent successfully","timestamp":"2025-07-13T16:41:31.842Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-08-26T18:55:52.827Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-08-26T18:55:52.833Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-08-26T18:55:52.834Z"}
{"level":"info","message":"Mood entry created for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-08-26T18:58:28.723Z"}
{"level":"info","message":"Mood update event sent successfully","timestamp":"2025-08-26T18:58:29.626Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-09-05T20:33:18.080Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-09-05T20:33:18.086Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-09-05T20:33:18.087Z"}
{"level":"info","message":"Mood entry created for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-09-05T20:35:34.387Z"}
{"level":"info","message":"Mood update event sent successfully","timestamp":"2025-09-05T20:35:35.255Z"}
{"level":"info","message":"Activity logged for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-09-05T20:35:55.572Z"}
{"level":"info","message":"Activity completion event sent successfully","timestamp":"2025-09-05T20:35:56.371Z"}
{"level":"info","message":"Processing message: hey","sessionId":"45102e91-c141-4ca2-8a5d-5b71f375f03a","timestamp":"2025-09-05T20:41:40.783Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hey","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-05T20:41:40.793Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"consumer\":\"projects/446709098246\",\"quota_unit\":\"1/min/{project}/{region}\",\"service\":\"generativelanguage.googleapis.com\",\"quota_location\":\"us-south1\",\"quota_limit_value\":\"0\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"consumer\":\"projects/446709098246\",\"quota_unit\":\"1/min/{project}/{region}\",\"service\":\"generativelanguage.googleapis.com\",\"quota_location\":\"us-south1\",\"quota_limit_value\":\"0\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-09-05T20:41:42.000Z"}
{"level":"info","message":"Processing message: something","sessionId":"1665c056-dfbc-4bee-9fc1-005425259e46","timestamp":"2025-09-05T20:41:55.286Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"something","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-05T20:41:55.296Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"consumer\":\"projects/446709098246\",\"service\":\"generativelanguage.googleapis.com\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"us-south1\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_limit_value\":\"0\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"consumer\":\"projects/446709098246\",\"service\":\"generativelanguage.googleapis.com\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"us-south1\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_limit_value\":\"0\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-09-05T20:41:56.421Z"}
{"level":"info","message":"Processing message: eddd","sessionId":"8e76671f-31c6-4442-a02d-da036a9614ab","timestamp":"2025-09-06T13:54:24.815Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"eddd","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-06T13:54:24.849Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"consumer\":\"projects/446709098246\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_limit_value\":\"0\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_location\":\"us-south1\",\"service\":\"generativelanguage.googleapis.com\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"consumer\":\"projects/446709098246\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_limit_value\":\"0\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_location\":\"us-south1\",\"service\":\"generativelanguage.googleapis.com\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-09-06T13:54:28.233Z"}
{"level":"info","message":"Mood entry created for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-09-06T14:37:30.900Z"}
{"level":"info","message":"Mood update event sent successfully","timestamp":"2025-09-06T14:37:32.789Z"}
{"level":"info","message":"Activity logged for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-09-06T15:04:30.109Z"}
{"level":"info","message":"Activity completion event sent successfully","timestamp":"2025-09-06T15:04:33.486Z"}
{"level":"info","message":"Mood entry created for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-09-06T15:05:18.909Z"}
{"level":"info","message":"Mood update event sent successfully","timestamp":"2025-09-06T15:05:20.555Z"}
{"level":"info","message":"Processing message: hey","sessionId":"efa8d6fd-ff12-496a-95b6-1628f9005cda","timestamp":"2025-09-06T15:08:52.937Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"hey","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-09-06T15:08:52.956Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_unit\":\"1/min/{project}/{region}\",\"service\":\"generativelanguage.googleapis.com\",\"quota_location\":\"us-south1\",\"quota_limit_value\":\"0\",\"consumer\":\"projects/446709098246\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_unit\":\"1/min/{project}/{region}\",\"service\":\"generativelanguage.googleapis.com\",\"quota_location\":\"us-south1\",\"quota_limit_value\":\"0\",\"consumer\":\"projects/446709098246\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-09-06T15:08:55.140Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-10-01T10:33:47.203Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-10-01T10:33:47.210Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-10-01T10:33:47.210Z"}
{"level":"info","message":"Mood entry created for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-10-01T10:51:09.325Z"}
{"level":"info","message":"Mood update event sent successfully","timestamp":"2025-10-01T10:51:10.970Z"}
{"level":"info","message":"Activity logged for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-10-01T10:51:26.947Z"}
{"level":"info","message":"Activity completion event sent successfully","timestamp":"2025-10-01T10:51:28.279Z"}
{"level":"info","message":"Activity logged for user 6873b6a0ed7d4d13eff55dee","timestamp":"2025-10-01T10:56:49.748Z"}
{"level":"info","message":"Activity completion event sent successfully","timestamp":"2025-10-01T10:56:51.174Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-10-07T21:52:33.502Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-10-07T21:52:33.513Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-10-07T21:52:33.514Z"}
{"level":"info","message":"Processing message: vhjghv","sessionId":"6f3df64e-e8d9-4db7-9bb3-e3f45fcc57b1","timestamp":"2025-10-07T21:58:16.618Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"vhjghv","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-10-07T21:58:16.633Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"asia-east1\",\"quota_limit_value\":\"0\",\"consumer\":\"projects/446709098246\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"service\":\"generativelanguage.googleapis.com\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\",\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"asia-east1\",\"quota_limit_value\":\"0\",\"consumer\":\"projects/446709098246\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T21:58:17.990Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-10-07T22:04:32.995Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-10-07T22:04:32.999Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-10-07T22:04:33.000Z"}
{"level":"info","message":"Processing message: dsfsdf","sessionId":"6f3df64e-e8d9-4db7-9bb3-e3f45fcc57b1","timestamp":"2025-10-07T22:05:09.372Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"dsfsdf","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-10-07T22:05:09.378Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"asia-east1\",\"consumer\":\"projects/446709098246\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_limit_value\":\"0\",\"service\":\"generativelanguage.googleapis.com\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]","stack":"Error: [429 Too Many Requests] Quota exceeded for quota metric 'Generate Content API requests per minute' and limit 'GenerateContent request limit per minute for a region' of service 'generativelanguage.googleapis.com' for consumer 'project_number:446709098246'. [{\"@type\":\"type.googleapis.com/google.rpc.ErrorInfo\",\"reason\":\"RATE_LIMIT_EXCEEDED\",\"domain\":\"googleapis.com\",\"metadata\":{\"quota_unit\":\"1/min/{project}/{region}\",\"quota_location\":\"asia-east1\",\"consumer\":\"projects/446709098246\",\"quota_limit\":\"GenerateContentRequestsPerMinutePerProjectPerRegion\",\"quota_limit_value\":\"0\",\"service\":\"generativelanguage.googleapis.com\",\"quota_metric\":\"generativelanguage.googleapis.com/generate_content_requests\"}},{\"@type\":\"type.googleapis.com/google.rpc.Help\",\"links\":[{\"description\":\"Request a higher quota limit.\",\"url\":\"https://cloud.google.com/docs/quotas/help/request_increase\"}]}]\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T22:05:10.437Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-10-07T22:06:48.993Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-10-07T22:06:48.998Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-10-07T22:06:48.999Z"}
{"level":"info","message":"Processing message: fdsfsdf","sessionId":"6f3df64e-e8d9-4db7-9bb3-e3f45fcc57b1","timestamp":"2025-10-07T22:06:59.135Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"fdsfsdf","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-10-07T22:06:59.147Z"}
{"emotionalState":"Unclear","level":"info","message":"Message analysis:","progressIndicators":["Establish initial contact","Determine user's emotional state"],"recommendedApproach":"Elicit more information to understand the user's state. This message 'fdsfsdf' is insufficient for proper analysis. Prioritize establishing communication and rapport.","riskLevel":1,"themes":[],"timestamp":"2025-10-07T22:07:01.426Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-10-07T22:07:02.896Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"6f3df64e-e8d9-4db7-9bb3-e3f45fcc57b1","timestamp":"2025-10-07T22:07:02.936Z"}
{"level":"info","message":"Processing message: Can we talk about improving sleep?","sessionId":"175282c5-026a-456c-8a9c-756e078b489a","timestamp":"2025-10-07T22:22:42.636Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"Can we talk about improving sleep?","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-10-07T22:22:42.654Z"}
{"emotionalState":"Neutral","level":"info","message":"Message analysis:","progressIndicators":["Improved sleep duration","Reduced sleep latency","Increased sleep efficiency","Better daytime functioning","Reduced reliance on sleep aids"],"recommendedApproach":"Begin by gathering more information about the user's sleep patterns, duration, and any existing routines. Explore potential contributing factors to poor sleep, such as stress, anxiety, or medical conditions. Suggest simple lifestyle adjustments, like establishing a regular sleep schedule, creating a relaxing bedtime routine, and optimizing the sleep environment. Consider cognitive behavioral therapy for insomnia (CBT-I) techniques if appropriate. Track sleep quality and duration over time to monitor progress.","riskLevel":0,"themes":["Sleep Improvement","Health & Wellness"],"timestamp":"2025-10-07T22:22:45.429Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-10-07T22:22:47.545Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"175282c5-026a-456c-8a9c-756e078b489a","timestamp":"2025-10-07T22:22:47.592Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-10-07T22:24:18.713Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-10-07T22:24:18.720Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-10-07T22:24:18.721Z"}
{"level":"info","message":"Processing message: Can we talk about improving sleep?","sessionId":"ae4824ed-61a5-475c-9b95-8c7b6bb521fb","timestamp":"2025-10-07T22:24:41.783Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"Can we talk about improving sleep?","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-10-07T22:24:41.795Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.","stack":"Error: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T22:24:42.943Z"}
{"level":"info","message":"Processing message: ASFDSFASD","sessionId":"c4d5d7a6-92ce-46dc-884e-5e2caa0fee6c","timestamp":"2025-10-07T22:24:59.361Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"ASFDSFASD","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-10-07T22:24:59.368Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.","stack":"Error: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T22:25:00.267Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-10-07T22:25:27.405Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-10-07T22:25:27.410Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-10-07T22:25:27.411Z"}
{"level":"info","message":"Processing message: DDDDDDDDDDDDDDDD","sessionId":"c4d5d7a6-92ce-46dc-884e-5e2caa0fee6c","timestamp":"2025-10-07T22:25:35.848Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"DDDDDDDDDDDDDDDD","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-10-07T22:25:35.856Z"}
{"level":"error","message":"Error in sendMessage: [GoogleGenerativeAI Error]: Error fetching from https://generativelanguage.googleapis.com/v1/models/gemini-2.0-flash:generateContent: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.","stack":"Error: [403 Forbidden] Method doesn't allow unregistered callers (callers without established identity). Please use API Key or other form of API consumer identity to call this API.\n    at makeRequest (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:263:19)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async generateContent (D:\\Projects\\therapistbackend\\node_modules\\@google\\generative-ai\\dist\\index.js:655:22)\n    at async sendMessage (D:\\Projects\\therapistbackend\\src\\controllers\\chat.ts:132:28)","timestamp":"2025-10-07T22:25:36.886Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-10-07T22:34:01.641Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-10-07T22:34:01.648Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-10-07T22:34:01.649Z"}
{"level":"info","message":"Processing message: Can we talk about improving sleep?","sessionId":"c4d5d7a6-92ce-46dc-884e-5e2caa0fee6c","timestamp":"2025-10-07T22:34:27.925Z"}
{"event":{"data":{"goals":[],"history":[],"memory":{"sessionContext":{"conversationThemes":[],"currentTechnique":null},"userProfile":{"emotionalState":[],"preferences":{},"riskLevel":0}},"message":"Can we talk about improving sleep?","systemPrompt":"You are an AI therapist assistant. Your role is to:\n        1. Provide empathetic and supportive responses\n        2. Use evidence-based therapeutic techniques\n        3. Maintain professional boundaries\n        4. Monitor for risk factors\n        5. Guide users toward their therapeutic goals"},"name":"therapy/session.message"},"level":"info","message":"Sending message to Inngest:","timestamp":"2025-10-07T22:34:27.951Z"}
{"emotionalState":"Neutral","level":"info","message":"Message analysis:","progressIndicators":["User openness to discussing sleep habits","Identification of sleep-related problems","Willingness to implement suggested changes"],"recommendedApproach":"Open-ended questioning to understand the user's current sleep habits, challenges, and goals. Consider using techniques like CBT-I later based on user's needs.","riskLevel":0,"themes":["Sleep Improvement","Health & Wellness"],"timestamp":"2025-10-07T22:34:30.602Z"}
{"level":"info","message":"Generated response:","timestamp":"2025-10-07T22:34:31.769Z"}
{"level":"info","message":"Session updated successfully:","sessionId":"c4d5d7a6-92ce-46dc-884e-5e2caa0fee6c","timestamp":"2025-10-07T22:34:31.820Z"}
{"level":"info","message":"Connected to MongoDB Atlas","timestamp":"2025-10-07T22:45:29.574Z"}
{"level":"info","message":"Server is running on port 3001","timestamp":"2025-10-07T22:45:29.595Z"}
{"level":"info","message":"Inngest endpoint available at http://localhost:3001/api/inngest","timestamp":"2025-10-07T22:45:29.595Z"}
